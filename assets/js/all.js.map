{"version":3,"sources":["addTodos.js","all.js","signup.js"],"names":["apiUrl","PWD","document","querySelector","sitePath","window","location","pathname","list","inputBlock","user","header_logout","inputText","enterBtn","nonList","listBlock","APIData","data","init_token_render","sessionStorage","getItem","user_name","innerHTML","getTodo","logoutBtn","addEventListener","e","preventDefault","axios","headers","Authorization","then","res","Swal","fire","message","result","isConfirmed","assign","err","console","log","response","renderData","arr","str","forEach","item","id","completed_at","content","setAttribute","removeAll","length","removeAttribute","get","todos","updateList","before_addTods_checkSame","event","which","value","add_item","check_same","check","some","trim","addTodo","post","todo","obj","unshift","tab","tabStatus","target","dataset","status","tabs","querySelectorAll","i","classList","remove","add","undoNum","showData","filter","todoLength","index","nodeName","listId","closest","token","findIndex","splice","contains","previousElementSibling","htmlFor","updateText","updateData","toggle","parentNode","put","error","reason","alert","getAttribute","patch","clearAll","addTodos_alert_txt","addTodosModal","bootstrap","Modal","deleteData","show","setTimeout","tabArea","childNodes","children","loginInput","login_btn","loginEmail","loginPassword","login_alert_txt","login_status_txt","includes","checkPWD","login_check_ok","loginCheck","input","login","textContent","mail","pwd","loginModal","defaults","common","authorization","setItem","nickname","loginReset","href","isnull","match","notice","signUpInput","signUpBtn","signUpEmail","signUpNickname","signUpPassword","signUpPassword2","signup_alert_txt","signup_status_txt","format_isOk","signupCheck","signup","signupModal","signupReset"],"mappings":"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","file":"all.js","sourcesContent":["//在此宣告的原因\n//因為 apiUrl 宣告的位置是在 all.js ，所以編譯後 apiUrl 變數位置會在 addTodos.js 的後面\nconst apiUrl = 'https://todoo.5xcamp.us';\n//密碼驗證確認\nconst PWD = document.querySelector('#login-password');\nlet sitePath = window.location.pathname;\n\nconst list = document.querySelector('.list');\nconst inputBlock = document.querySelector('.input-block')\nconst user = document.querySelector('.username');\nconst header_logout = document.querySelector('.header_logout');\nconst inputText = document.querySelector('.input-text');\nconst enterBtn = document.querySelector('.enter-btn');\nconst nonList = document.querySelector('.none-list');\nconst listBlock = document.querySelector('.list-block');\n\nlet APIData = {};\nlet data = [];\n\n\n// 登入成功後顯示使用者名稱\n// 檢查.header_logout 是否有值，若有才執行init_token_render\n// (因為init_token_render只在addtoTods.html頁面才有，避免在別的頁面產生錯誤)\n    if (header_logout) {\n      init_token_render();\n    }\n\n// 檢查有無token，若無token 不顯示登入後畫面\n    function init_token_render() {\n      if (sessionStorage.getItem('token')) {\n        const user_name = sessionStorage.getItem('name')\n        header_logout.innerHTML = `\n    <div class=\"d-none d-lg-block me-7 username\">${user_name}的代辦事項</div>\n    <a href=\"#\" class=\"text-dark fs-7 fs-lg-6 logoutBtn\">登出</a>\n    `\n    //初始畫面\n    getTodo();\n      } else {\n        return;\n      }\n    }\n\n    //---------------------------------------------------- 登出\n    const logoutBtn = document.querySelector('.logoutBtn');\n    if (logoutBtn) {\n      logoutBtn.addEventListener('click', function (e) {\n        e.preventDefault();\n        return axios.delete(`${apiUrl}/users/sign_out`, {\n            headers: {\n              Authorization: sessionStorage.getItem('token')\n            },\n          })\n          .then((res) => {\n            Swal.fire(\n                `${res.data.message}`,\n                \"已登出，下次見!!!\",\n                \"success\"\n              ).then((result) => {\n                if (result.isConfirmed) {\n                  window.location.assign(\"index.html\");\n                }\n              })\n              .catch((err) => console.log(err.response));\n          })\n      })\n    }\n\n//------------------------------------------------------------渲染\n//渲染畫面\nfunction renderData(arr) {\n  let str = '';\n  arr.forEach((item) => {\n    str += `<li data-id=\"${item.id}\" class=\"tick\">\n              <input type=\"checkbox\" class=\"form-check-input\" id=\"${item.id}\"\n              ${\n                item.completed_at === null ? \"\" : \"checked\"\n                }\n            >\n              <label for=\"${item.id}\" class=\"checkbox\">\n                  <span class=\"ps-9\" id=\"${item.id}\">${item.content}</span>\n              </label>\n              \n              <button href=\"#\" class =\"update me-2\">編輯</button>\n              <a href=\"#\" class=\"delete\"></a>\n            </li>`;\n  });\n  nonList.setAttribute(\"class\", \"d-none\");\n  listBlock.setAttribute('class', 'd-block');\n  list.innerHTML = str;\n\n  removeAll();\n}\n\n// clear All\nfunction removeAll() {\n  if (data.length === 0) {\n    listBlock.setAttribute('class', 'd-none');\n    nonList.removeAttribute('class', 'd-none');\n  }\n}\n\n//----------------------------------------------------取得 \nfunction getTodo() {\n  return axios.get(`${apiUrl}/todos`, {\n      headers: {\n        Authorization: sessionStorage.getItem('token')\n      },\n    })\n    .then((res) => {\n      // 推入陣列前做清空，避免重複寫入出現渲柒問題\n      //data.splice(0, data.length);\n      data = res.data.todos;\n      updateList();\n    })\n    .catch((err) =>\n      Swal.fire(\n        `${err.response}`,\n        '出現了一些錯誤',\n        'warning'\n      )\n    );\n    \n}\n\n\n//----------------------------------------------------新增\n//滑鼠事件檢查重複\nif(enterBtn) {\n  enterBtn.addEventListener('click', () => {\n    before_addTods_checkSame();\n  });\n}\n\n//鍵盤事件檢查重複\nif(inputBlock){\n  inputBlock.addEventListener(\"keypress\", (event) =>{\n    if(event.which == 13){\n      before_addTods_checkSame();\n    }\n  });\n}\n\n//函式-新增代碼之前檢查重複\nfunction before_addTods_checkSame(){\n  if(inputText.value !== ''){\n    const add_item = inputText.value;\n//檢查有無重複\n    check_same(add_item);\n  }else{\n    Swal.fire(\n      `請輸入代辨事項`,\n      \"你忘記輸入事項了喔!!\",\n      \"warning\"\n    )\n    return;\n  }\n}\n\n// 檢查重複\nfunction check_same(add_item) {\n  axios.get(`${apiUrl}/todos`,{\n    headers: {\n      Authorization: sessionStorage.getItem('token')\n    }\n  })\n    .then((res) => {\n      const check = res.data.todos.some((item) => {\n        return item.content == add_item.trim();\n      })\n      if(check){\n        inputText.value = '';\n        Swal.fire(\n          `重複了喔!!`,\n          \"這個事項你已輸入過了!\",\n          \"warning\"\n        )\n        return;\n      }else{\n        addTodo(add_item);\n      }\n    })\n}\n\n\n// 新增\nfunction addTodo(item) {\n    axios.post(`${apiUrl}/todos`, {\n      todo: {\n        content: item\n      },\n    }, {\n      headers: {\n        Authorization: sessionStorage.getItem('token')\n      }\n    })\n    .then((res) => {\n      getTodo();\n      let obj = {};\n      obj.content = inputText.value;\n      obj.check = '';\n      data.unshift(obj);\n      inputText.value = '';\n      updateList();\n    })\n    .catch((err) => console.log(err.response));\n}\n\n//--------------------------------------------------------更新\n//切換畫面\nconst tab = document.querySelector('.tab');\nlet tabStatus = 'all';\n\nif(tab){\n  tab.addEventListener('click', function(e){\n    tabStatus = e.target.dataset.status;\n    let tabs = document.querySelectorAll(\".tab li\");\n    tabs.forEach((i) => {\n      i.classList.remove('tabs-active');\n    });\n    e.target.classList.add('tabs-active');\n    updateList();\n  });\n}\n\nlet undoNum = document.querySelector('.undo-num');\n\nfunction updateList(){\n  let showData = [];\n\n  if(tabStatus === 'all'){\n    showData = data;\n\n  }else if(tabStatus === 'undo'){\n    showData = data.filter((i) => i.completed_at === null);\n\n  }else if(tabStatus === 'done'){\n    showData = data.filter((i) => i.completed_at !== null);\n  }\n\n  let todoLength = data.filter((i) => i.completed_at === null);\n  let str = `${todoLength.length} 個待完成項目`;\n  undoNum.innerHTML = str;\n\n  renderData(showData);\n}\n\n\n//----------------------------------------刪除 & 完成代辦 & 單筆更新\nif (list) {\n  list.addEventListener('click', function (e) {\n    let index = '';\n\n    console.log(e.target.nodeName);\n\n    let listId = e.target.closest(\"li\").dataset.id;\n\n    if (e.target.nodeName === \"A\") {\n      e.preventDefault();\n\n      axios.delete(`${apiUrl}/todos/${listId}`, {\n          headers: {\n            Authorization: sessionStorage.token,\n          },\n        })\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => console.log(err.response));\n\n      let index = data.findIndex((item) => item.id === listId);\n      data.splice(index, 1);\n      updateList();\n\n    } else if (e.target.nodeName === \"BUTTON\") {\n      e.preventDefault();\n\n      // 單筆資料更新_編輯(修改)todo\n      if (e.target.classList.contains('update')) {\n        index = data.findIndex((item) => item.id === e.target.previousElementSibling.htmlFor);\n        //console.log(index);\n        let updateText = `<input name=\"updateTextOk\" class=\"input_ok border border-danger\" type=\"text\" value=\"${data[index].content}\"><button type=\"button\" class=\"update_ok\">送出</button>`;\n        const updateData = document.querySelectorAll('span')[index];\n\n        updateData.innerHTML = updateText;\n        //todo編輯鈕(因有多個，需使用索引值來對應) 切換成\"隱藏\"(進而顯示送出button)\n        document.querySelectorAll('.list .update')[index].classList.toggle('button_none');\n      }\n\n      //單筆資料更新_編輯(修改)todo > 編輯送出\n      if (e.target.classList.contains('update_ok')) {\n        index = data.findIndex((item) => item.id === e.target.parentNode.parentNode.htmlFor)\n        const todo = document.querySelector(\".listContent input[name='updateTextOk']\").value.trim();\n        \n        axios.put(`${apiUrl}/todos/${listId}`, {\n            \"todo\": {\n              \"content\": todo\n            },\n          }, {\n            headers: {\n              Authorization: sessionStorage.token,\n            },\n          })\n          .then((res) => {\n            // 將新增後的todo，把值更新給data[index].content(對應todo內容)。\n            data[index].content = todo;\n            renderData(data);\n          })\n          .catch((error) => {\n            let reason = error.response.data.error ? error.response.data.error : \"\";\n            alert(error.response.data.message + \"\" + reason)\n          });\n      }\n    } else if (e.target.getAttribute('type') === \"checkbox\" && e.target.nodeName === \"INPUT\"){\n      data.forEach((i) => {\n        if (i.id === listId) {\n          axios.patch(`${apiUrl}/todos/${listId}/toggle`, {}, {\n              headers: {\n                Authorization: sessionStorage.token,\n              },\n            })\n            .then((res) => {\n              data.forEach((item, index) => {\n                if (item.id === res.data.id) {\n                  // 將已完成todo勾選時間，更新至listData\n                  data[index].completed_at = res.data.completed_at;\n                }\n              });\n              updateList();\n            })\n            .catch((err) => console.log(err));\n        }\n      });\n    }\n  });\n}\n\n\n\n// 清除完成項目\nconst clearAll = document.querySelector('.clear-all');\nconst addTodos_alert_txt = document.querySelector('.addTodos_alert_txt');\n\n\nif(clearAll){\n  const addTodosModal = new bootstrap.Modal('.js-addTodos-modal');\n  clearAll.addEventListener('click', function(e) {\n    e.preventDefault();\n    let deleteData = data.filter((i) => i.completed_at !== null);\n    deleteData.forEach((i) => {\n      axios.delete(`${apiUrl}/todos/${i.id}`, {\n        headers:{\n          Authorization: sessionStorage.token,\n        },\n      })\n      .then((res) => {\n        //-------------------燈箱效果\n        addTodosModal.show();\n        setTimeout(() => {\n          addTodos_alert_txt.innerHTML = `全部刪除成功!`;\n        })\n        //--------------------\n      })\n      .catch((err) => console.log(err));\n    })\n\n    data = data.filter((i) => i.completed_at === null);\n    tabStatus = 'all';\n  //判斷tab並篩選要渲染的內容(含tab樣式)，宣告const tabArea = document.querySelector(\".card_content .tab\");\n  //待辦清單狀態 tabArea.childNodes[0]為全部(<li class=\"tabs-active\">全部</li>)、tabArea.childNodes[1]為待完成、tabArea.childNodes[2]為已完成。\n    const tabArea = document.querySelector('.card_content .tab');  \n    tabArea.childNodes.forEach((i) => {\n        if(i.nodeName === \"LI\"){\n          i.classList.remove('tabs-active');\n          tabArea.children[0].classList.add('tabs-active');\n        }\n      })\n      updateList(data);\n    });\n}","//login-------------------------------------\nconst loginInput = document.querySelectorAll('.login-input');\nconst login_btn = document.querySelector('#login_btn');\nconst loginEmail = document.querySelector('#login-email');\n\nconst loginPassword = document.querySelector('#login-password');\nconst login_alert_txt = document.querySelector('.login_alert_txt');  //在 loginModal 上\nconst login_status_txt = document.querySelector('.login_status_txt');\n\n//login 設定------------------------------\n\n// 判斷頁面+監聽事件\n// 當前頁面為[登入頁](註冊頁同頁做切換)。 .includes()可回傳是否包含該元素的布林值\nif(sitePath.includes(\"index\")){\n  PWD.addEventListener('keyup', checkPWD);\n}\n\nif (login_btn) {\n  login_btn.addEventListener('click', function (e) {\n    if (loginEmail.value.trim() == '' || loginPassword.value.trim() == '') {\n      return;\n    }\n  })\n  login_btn.addEventListener('click', () => {\n    const login_check_ok = loginCheck();\n    if (login_check_ok === true) {\n      input(loginEmail.value, loginPassword.value)\n    } else {\n      return;\n    }\n  })\n}\n//-------------------------以上為之前發出錯誤時少寫的程式碼\n\nfunction login(loginEmail, loginPassword) {\n  login_status_txt.textContent = '登入中請稍後 ...';\n  return axios.post(`${apiUrl}/users/sign_in`,\n    {\n      \"user\":{\n        \"email\": loginEmail,\n        \"password\": loginPassword\n      }\n    }\n  )\n}\n\nconst input = async(mail, pwd) => {\n  const loginModal = new bootstrap.Modal('.js-login-modal');\n  try{\n    const res = await login(mail, pwd);\n    //設置默認標頭的機制語法，該標頭將隨您發出的每個請求一起發送\n    axios.defaults.headers.common['Authorization'] = res.headers.authorization\n    sessionStorage.setItem('token', res.headers.authorization)\n    sessionStorage.setItem('name', res.data.nickname)\n    setTimeout(() =>{\n      login_status_txt.textContent = '';\n      login_alert_txt.innerHTML = `登入成功 ! 歡迎${res.data.nickname} 回來 <br><br> 即將跳轉待辦清單...`;\n      loginModal.show();\n      loginReset();\n      setTimeout(() =>{\n        document.location.href='./addTodos.html';\n      }, 2000);\n    }, 1000);\n  }\n  catch(error){\n    setTimeout(() =>{\n      login_status_txt.textContent = '';\n      login_alert_txt.textContent = '登入失敗，您的Email或密碼有誤!'\n      loginModal.show()\n      loginReset();\n    }, 1000);\n  }\n}\n\nfunction loginCheck(){\n  const loginModal = new bootstrap.Modal('.js-login-modal');\n  let isnull = false;\n  for(const item of loginInput){\n    if(item.value === ''){\n      isnull = true;\n      break;\n    }\n  }\n  if (isnull === true){\n    login_alert_txt.textContent = '您還有欄位尚未填寫喔!!';\n    loginModal.show();\n    loginReset();\n    return;\n  }\n  //email的輸入值字串必須有 @\n  if(loginEmail.value.match('@') === null){\n    login_alert_txt.textContent = '您的Email格式不正確!!!';\n    loginModal.show();\n    loginReset();\n    return;\n  }\n  \n  return true;\n}\n\nfunction loginReset(){\n  loginEmail.value = '';\n  loginPassword.value = '';\n}\n\n\n\n//密碼輸入確認\nfunction checkPWD(){\n  // 正規式 至少六個字符，含數字或字母(大小寫)之字串。\n  let PWD = /[0-9A-Za-z]{6,}/;\n  const notice = document.querySelector(\"form p.PWD\");\n  // this(指的是密碼<input>欄位)\n  if(this.value === ''){\n    notice.textContent = '此欄位必填'\n  }\n  //欄位已填入資料，且將\"match符合時會印出的結果\"，使用!將結果反向(即match為null。無符合匹配)。\n  //(*將密碼input裡面的value透過match方法查詢，沒有找到匹配返回 null。反之會印出匹配結果。)\n  else if(!this.value.match(PWD)){\n    notice.textContent = `格式不符，至少需再填入${6 - this.value.length}字元`;\n  }\n  // 如密碼欄位內有值且格式正確，將提示文字 \"通過 \"\n  else{\n    notice.textContent = '密碼通過';\n  }\n}","//signup---------------------------------------\nconst signUpInput = document.querySelectorAll('.signUpInput')\nconst signUpBtn = document.querySelector('.signup_btn');\nconst signUpEmail = document.querySelector('#signUpEmail');\nconst signUpNickname = document.querySelector('#signUpNickname');\nconst signUpPassword = document.querySelector('#signUpPassword');\nconst signUpPassword2 = document.querySelector('#signUpPassword2');\nconst signup_alert_txt = document.querySelector('.signup_alert_txt');\nconst signup_status_txt = document.querySelector('.signup_status_txt');\n\n//-----------------------------------\n\nif (signUpBtn) {\n  signUpBtn.addEventListener('click', function (e) {\n    if (\n      signUpEmail.value.trim() == '' ||\n      signUpPassword.value.trim() == '' ||\n      signUpPassword2.value.trim() == '' ||\n      signUpNickname.value.trim() == ''\n    ) {\n      return;\n    }\n  })\n  signUpBtn.addEventListener('click', () => {\n    const format_isOk = signupCheck();\n    if (format_isOk === true) {\n      signup(signUpEmail, signUpNickname, signUpPassword)\n    } else {\n      return;\n    }\n  })\n}\n\nfunction signup(signUpEmail, signUpNickname, signUpPassword) {\n  signup_status_txt.textContent = `註冊中請稍後 ... `;\n  const signupModal = new bootstrap.Modal('.js-signup-modal');\n  return axios.post(`${apiUrl}/users`, \n  {\n    \"user\": {\n      \"email\": signUpEmail.value,\n      \"nickname\": signUpNickname.value,\n      \"password\": signUpPassword.value\n    }\n  })\n    .then(res => {\n      setTimeout(() => {\n        signup_alert_txt.innerHTML = `註冊成功 ! 歡迎${res.data.nickname}光臨本網站 <br><br> 頁面即將在3秒後跳轉至登入畫面 ...`;\n        signupModal.show();\n        signupReset();\n        setTimeout(() => {\n          document.location.href = './index.html'\n        }, 2000)\n      }, 1000)\n    })\n    .catch(error => {\n      console.log(error.response);\n      setTimeout(() => {\n        signup_alert_txt.innerHTML = `很抱歉 ! 您的${error.response.data.error[0]} 請重新註冊`;\n        signupModal.show();\n        signup_status_txt.textContent = '';\n        signupReset();\n      }, 1000);\n    })\n}\n\nfunction signupCheck() {\n  const signupModal = new bootstrap.Modal('.js-signup-modal');\n  let isnull = false;\n\n  for (const item of signUpInput) {\n    if (item.value == '') {\n      isnull = true;\n      break;\n    }\n  }\n  if (isnull === true) {\n    signup_alert_txt.textContent = '您還有欄位尚未填寫';\n    signupModal.show();\n    return;\n  }\n  if (signUpEmail.value.match('@') === null) {\n    signup_alert_txt.textContent = 'Email 格式不正確';\n    signupModal.show();\n    signupReset();\n    return;\n  }\n  if (signUpPassword.value.trim().length < 6) {\n    signup_alert_txt.textContent = '密碼必須6個字以上喔 ! ';\n    signupModal.show();\n    signupReset();\n    // 為何以下這兩個程式碼不能用 signupReset(); 去取代 \n    // signUpPassword.value = '';\n    // signUpPassword2.value = '';\n    return;\n  }\n  if (signUpPassword.value !== signUpPassword2.value) {\n    signup_alert_txt.textContent = '兩次的密碼輸入不一致喔 ! ';\n    signupModal.show();\n    signupReset();\n    // 為何以下這兩個程式碼不能用 signupReset(); 去取代 \n    // signUpPassword.value = '';\n    // signUpPassword2.value = '';\n    return;\n  }\n  return true;\n}\n\nfunction signupReset() {\n  signUpEmail.value = '';\n  signUpNickname.value = '';\n  signUpPassword.value = '';\n  signUpPassword2.value = '';\n}"]}