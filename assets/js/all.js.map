{"version":3,"sources":["addTodos.js","all.js","signup.js"],"names":["list","document","querySelector","inputBlock","user","header_logout","inputText","enterBtn","nonList","listBlock","data","init_token_render","sessionStorage","getItem","user_name","innerHTML","logoutBtn","addEventListener","e","preventDefault","axios","apiUrl","headers","Authorization","token","then","res","Swal","fire","message","result","isConfirmed","window","location","assign","err","console","log","response","renderData","arr","str","forEach","item","id","content","setAttribute","innerHtml","removeAll","length","removeAttribute","getTodo","get","splice","todos","addTodo","value","post","todo","obj","check","unshift","updateList","key","tab","tabStatus","target","dataset","status","tabs","querySelectorAll","i","classList","remove","add","undoNum","showData","filter","completed_at","todoLength","loginInput","login_btn","loginEmail","loginPassword","login_alert_txt","login_status_txt","trim","login_check_ok","loginCheck","input","login","textContent","mail","pwd","loginModal","bootstrap","Modal","defaults","common","authorization","setItem","nickname","setTimeout","show","loginReset","href","isnull","match","signUpInput","signUpBtn","signUpEmail","signUpNickname","signUpPassword","signUpPassword2","signup_alert_txt","signup_status_txt","format_isOk","signupCheck","signup","signupModal","signupReset","error"],"mappings":"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","file":"all.js","sourcesContent":["const list = document.querySelector('.list');\nconst inputBlock = document.querySelector('.input-block')\nconst user = document.querySelector('.username');\nconst header_logout = document.querySelector('.header_logout');\nconst inputText = document.querySelector('.input-text');\nconst enterBtn = document.querySelector('.enter-btn');\nconst nonList = document.querySelector('.none-list');\nconst listBlock = document.querySelector('.list-block');\n\nlet data = [];\n\n\n\n// 登入成功後顯示使用者名稱\n// 檢查.header_logout 是否有值，若有才執行init_token_render\n// (因為init_token_render只在addtoTods.html頁面才有，避免在別的頁面產生錯誤)\n    if (header_logout) {\n      init_token_render();\n    }\n\n// 檢查有無token，若無token 不顯示登入後畫面\n    function init_token_render() {\n      if (sessionStorage.getItem('token')) {\n        const user_name = sessionStorage.getItem('name')\n        header_logout.innerHTML = `\n    <span class=\"d-none d-lg-block me-7 username\">${user_name}的代辦事項</span>\n    <a href=\"#\" class=\"text-dark fs-7 fs-lg-6 logoutBtn\">登出</a>\n    `\n      } else {\n        return;\n      }\n    }\n\n    // 登出\n    const logoutBtn = document.querySelector('.logoutBtn');\n    if (logoutBtn) {\n      logoutBtn.addEventListener('click', function (e) {\n        e.preventDefault();\n        axios.delete(`${apiUrl}/users/sign_out`, {\n            headers: {\n              Authorization: sessionStorage.token,\n            },\n          })\n          .then((res) => {\n            Swal.fire(\n                `${res.data.message}`,\n                \"已登出，下次見!!!\",\n                \"success\"\n              ).then((result) => {\n                if (result.isConfirmed) {\n                  window.location.assign(\"index.html\");\n                }\n              })\n              .catch((err) => console.log(err.response));\n          })\n      })\n    }\n\n\n//渲染畫面\nfunction renderData(arr) {\n  let str = '';\n  arr.forEach((item) => {\n    str += `<li data-id=\"${item.id}\">\n    <label for=\"\" class=\"checkbox\">\n      <input type=\"checkbox\" class=\"form-check-input\">\n      <span class=\"ps-4\">${item.content}</span>\n    </label>\n    <a href=\"#\" class=\"delete\"></a>\n  </li>`;\n  });\n  nonList.setAttribute(\"class\", \"d-none\");\n  listBlock.setAttribute('class', 'd-block');\n  list.innerHtml = str;\n  removeAll();\n}\n\n// clear All\nfunction removeAll() {\n  if (data.length === 0) {\n    listBlock.setAttribute('class', 'd-none');\n    nonList.removeAttribute('class', 'd-none');\n  }\n}\n\nfunction getTodo(){\n  axios.get(`${apiUrl}/todos`,{\n      headers:{\n        Authorization: sessionStorage.token\n      },\n    })\n    .then((res) => {\n// 推入陣列前做清空，避免重複寫入出現渲柒問題\n      data.splice(0, data.length);\n      data = res.data.todos;\n    })\n    .catch((err) => \n      Swal.fire(\n        `${err.response}`,\n        '出現了一些錯誤',\n        'warning'\n      )\n    );\n}\n\n\n//新增代碼\nif(enterBtn) {\n  enterBtn.addEventListener('click', addTodo);\n}\n\nfunction addTodo(){\n  if(inputText.value === '') {\n    return;\n  }\n    axios.post(`${apiUrl}/todos`,\n    {\n      todo: {\n        content: inputText.value,\n      },\n    },\n    {\n      headers: {\n        Authorization: sessionStorage.token\n      }\n    }\n  )\n  .then((res) => {\n    getTodo();\n    let obj = {};\n    obj.content = inputText.value;\n    obj.check = '';\n    data.unshift(obj);\n    inputText.value = '';\n    updateList();\n  })\n  .catch((err) => console.log(err.response));\n}\n  \n// 按鈕輸入\nif(inputBlock){\n  inputBlock.addEventListener('keydown', function(e){\n    if(e.key === 'Enter'){\n      addTodo();\n    }\n  })\n}\n\n// 切換畫面\nconst tab = document.querySelector('.tab');\nlet tabStatus = 'all';\nif(tab){\n  tab.addEventListener('click', function(e){\n    tabStatus = e.target.dataset.status;\n    let tabs = document.querySelectorAll('.tab li');\n    tabs.forEach((i) => {\n      i.classList.remove('tabs-active');\n    });\n    e.target.classList.add('tabs-active');\n    updateList();\n  });\n}\n\nlet undoNum = document.querySelector('.undo-num');\nfunction updateList(){\n  let showData = [];\n\n  if(tabStatus === 'all'){\n    showData = data;\n  }else if(tabStatus === 'undo'){\n    showData = data.filter((i) => i.completed_at === null);\n  }else if(tabStatus === 'done'){\n    showData = data.filter((i) => i.completed_at !== null);\n  }\n\n  let todoLength = data.filter((i) => i.completed_at === null);\n  let str = `${todoLength.length} 個待完成項目`;\n  undoNum.innerHTML = str;\n\n  renderData(showData);\n}\n\n","\nconst apiUrl = 'https://todoo.5xcamp.us';\n//login-------------------------------------\nconst loginInput = document.querySelectorAll('.login-input');\nconst login_btn = document.querySelector('#login_btn');\nconst loginEmail = document.querySelector('#login-email');\nconst loginPassword = document.querySelector('#login-password');\nconst login_alert_txt = document.querySelector('.login_alert_txt');  //在 loginModal 上\nconst login_status_txt = document.querySelector('.login_status_txt');\n\n\n//login 設定------------------------------\nif (login_btn) {\n  login_btn.addEventListener('click', function (e) {\n    if (loginEmail.value.trim() == '' || loginPassword.value.trim() == '') {\n      return;\n    }\n  })\n  login_btn.addEventListener('click', () => {\n    const login_check_ok = loginCheck();\n    if (login_check_ok === true) {\n      input(loginEmail.value, loginPassword.value)\n    } else {\n      return;\n    }\n  })\n}\n//-------------------------以上為之前發出錯誤時少寫的程式碼\n\nfunction login(loginEmail, loginPassword) {\n  login_status_txt.textContent = '登入中請稍後 ...';\n  return axios.post(`${apiUrl}/users/sign_in`,\n    {\n      \"user\":{\n        \"email\": loginEmail,\n        \"password\": loginPassword\n      }\n    }\n  )\n}\n\nconst input = async(mail, pwd) => {\n  const loginModal = new bootstrap.Modal('.js-login-modal');\n  try{\n    const res = await login(mail, pwd);\n    //設置默認標頭的機制語法，該標頭將隨您發出的每個請求一起發送\n    axios.defaults.headers.common['Authorization'] = res.headers.authorization\n    sessionStorage.setItem('token', res.headers.authorization)\n    sessionStorage.setItem('name', res.data.nickname)\n    setTimeout(() =>{\n      login_status_txt.textContent = '';\n      login_alert_txt.innerHTML = `登入成功 ! 歡迎${res.data.nickname} 回來 <br><br> 即將跳轉待辦清單...`;\n      loginModal.show();\n      loginReset();\n      setTimeout(() =>{\n        document.location.href='./addTodos.html';\n      }, 2000);\n    }, 1000);\n  }\n  catch(error){\n    setTimeout(() =>{\n      login_status_txt.textContent = '';\n      login_alert_txt.textContent = '登入失敗，您的Email或密碼有誤!'\n      loginModal.show()\n      loginReset();\n    }, 1000);\n  }\n}\n\nfunction loginCheck(){\n  const loginModal = new bootstrap.Modal('.js-login-modal');\n  let isnull = false;\n  for(const item of loginInput){\n    if(item.value === ''){\n      isnull = true;\n      break;\n    }\n  }\n  if (isnull === true){\n    login_alert_txt.textContent = '您還有欄位尚未填寫喔!!';\n    loginModal.show();\n    loginReset();\n    return;\n  }\n  //email的輸入值字串必須有 @\n  if(loginEmail.value.match('@') === null){\n    login_alert_txt.textContent = '您的Email格式不正確!!!';\n    loginModal.show();\n    loginReset();\n    return;\n  }\n  return true;\n}\n\nfunction loginReset(){\n  loginEmail.value = '';\n  loginPassword.value = '';\n}\n","//signup---------------------------------------\nconst signUpInput = document.querySelectorAll('.signUpInput')\nconst signUpBtn = document.querySelector('.signup_btn');\nconst signUpEmail = document.querySelector('#signUpEmail');\nconst signUpNickname = document.querySelector('#signUpNickname');\nconst signUpPassword = document.querySelector('#signUpPassword');\nconst signUpPassword2 = document.querySelector('#signUpPassword2');\nconst signup_alert_txt = document.querySelector('.signup_alert_txt');\nconst signup_status_txt = document.querySelector('.signup_status_txt');\n\n//-----------------------------------\n\nif (signUpBtn) {\n  signUpBtn.addEventListener('click', function (e) {\n    if (\n      signUpEmail.value.trim() == '' ||\n      signUpPassword.value.trim() == '' ||\n      signUpPassword2.value.trim() == '' ||\n      signUpNickname.value.trim() == ''\n    ) {\n      return;\n    }\n  })\n  signUpBtn.addEventListener('click', () => {\n    const format_isOk = signupCheck();\n    if (format_isOk === true) {\n      signup(signUpEmail, signUpNickname, signUpPassword)\n    } else {\n      return;\n    }\n  })\n}\n\nfunction signup(signUpEmail, signUpNickname, signUpPassword) {\n  signup_status_txt.textContent = `註冊中請稍後 ... `;\n  const signupModal = new bootstrap.Modal('.js-signup-modal');\n  return axios.post(`${apiUrl}/users`, \n  {\n    \"user\": {\n      \"email\": signUpEmail.value,\n      \"nickname\": signUpNickname.value,\n      \"password\": signUpPassword.value\n    }\n  })\n    .then(res => {\n      setTimeout(() => {\n        signup_alert_txt.innerHTML = `註冊成功 ! 歡迎${res.data.nickname}光臨本網站 <br><br> 頁面即將在3秒後跳轉至登入畫面 ...`;\n        signupModal.show();\n        signupReset();\n        setTimeout(() => {\n          document.location.href = './index.html'\n        }, 2000)\n      }, 1000)\n    })\n    .catch(error => {\n      console.log(error.response);\n      setTimeout(() => {\n        signup_alert_txt.innerHTML = `很抱歉 ! 您的${error.response.data.error[0]} 請重新註冊`;\n        signupModal.show();\n        signup_status_txt.textContent = '';\n        signupReset();\n      }, 1000);\n    })\n}\n\nfunction signupCheck() {\n  const signupModal = new bootstrap.Modal('.js-signup-modal');\n  let isnull = false;\n\n  for (const item of signUpInput) {\n    if (item.value == '') {\n      isnull = true;\n      break;\n    }\n  }\n  if (isnull === true) {\n    signup_alert_txt.textContent = '您還有欄位尚未填寫';\n    signupModal.show();\n    return;\n  }\n  if (signUpEmail.value.match('@') === null) {\n    signup_alert_txt.textContent = 'Email 格式不正確';\n    signupModal.show();\n    signupReset();\n    return;\n  }\n  if (signUpPassword.value.trim().length < 6) {\n    signup_alert_txt.textContent = '密碼必須6個字以上喔 ! ';\n    signupModal.show();\n    signupReset();\n    // 為何以下這兩個程式碼不能用 signupReset(); 去取代 \n    // signUpPassword.value = '';\n    // signUpPassword2.value = '';\n    return;\n  }\n  if (signUpPassword.value !== signUpPassword2.value) {\n    signup_alert_txt.textContent = '兩次的密碼輸入不一致喔 ! ';\n    signupModal.show();\n    signupReset();\n    // 為何以下這兩個程式碼不能用 signupReset(); 去取代 \n    // signUpPassword.value = '';\n    // signUpPassword2.value = '';\n    return;\n  }\n  return true;\n}\n\nfunction signupReset() {\n  signUpEmail.value = '';\n  signUpNickname.value = '';\n  signUpPassword.value = '';\n  signUpPassword2.value = '';\n}"]}